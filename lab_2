# Написать программу, которая читая символы из бесконечной последовательности
# (эмулируется конечным файлом, читающимся поблочно), распознает, преобразует и выводит на экран лексемы по
# определенному правилу. Лексемы разделены пробелами. Преобразование делать по возможности через словарь.
# Для упрощения под выводом числа прописью подразумевается последовательный вывод всех цифр числа.
# Вариант 1.
# Натуральные числа. Выводит на экран четные цифры, стоящие на нечетных местах (в числе), повторяя каждую цифру так,
# чтобы число повторов равнялось номеру позиции цифры. Если позиция цифры больше 5, то цифры выводится прописью.
import re
abc = {'0': 'ноль', '1': 'один', '2': 'два', '3': 'три', '4': 'четыре', '5': 'пять',
       '6': 'шесть', '7': 'семь', '8': 'восемь', '9': 'девять'}

flag = False

def check(wb, f):    #Функция, в которой находятся цифры по условию задачи
       x = ''
       for i in range(len(wb)):
              print('----------------\nЧисло:', wb[i])
              for j in range(len(wb[i])):
                     if (int(wb[i][j]) % 2 == 0) and (j % 2 == 0) and (j <= 4):
                            print('Цифра:', wb[i][j] * (j + 1))
                            f = True
              if len(wb[i]) > 5:
                     for k in range(len(wb[i])):
                            print(abc[wb[i][k]])
       return f

try:                                      #Пробуем открыть файл
       file = open('text.txt', 'r')
except IOError as e:                      #Если файл не найден, то получаем соответствующее сообщение
       print('Файл в директории отсутствует или имеет другое название.\n'
             'Добавьте файл с именем \'text.txt\' или переименуйте существующий.')
else:
       while True:
              a = file.readline().split()
              if not a:
                     print('Файл \'text.txt\' закончился')
                     break
              for i in a:
                     res = re.findall(r'\d+', i)
              flag = check(res, flag)
              if not flag:                                     #Если цифры по условию задачи не найдены, но символы были
                     print('Нет чисел, удовлетворяющих условию.\n'
                            'Введите числа, удовлетворяющие условию задачи в файл \'text.txt\'.')
              else:
                     print('\nПрограмма завершила работу.')
file.close()         #Закрываем файл
